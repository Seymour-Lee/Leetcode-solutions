class Solution {
public:
    int maxJumps(vector<int>& arr, int d) {
        // cout<<arr.size()<<endl;
        for(int i = 0; i < arr.size(); i++){
            vector<int> b = {};
            for(int x = 1; x <= d && i-x >= 0; x++){
                int j = i-x;
                if(arr[j] >= arr[i]) break;
                b.push_back(j);
            }
            for(int x = 1; x <= d && i+x < arr.size(); x++){
                int j = i+x;
                if(arr[j] >= arr[i]) break;
                b.push_back(j);
            }
            a2b.push_back(b);
        }
        // for(int i = 0; i < a2b.size(); i++){
        //     cout<<i<<": ";
        //     for(auto b: a2b[i]) cout<<b<<" ";
        //     cout<<endl;
        // }
        
        for(int i = 0; i < arr.size(); i++) ans = max(ans, dfs(i));
        return ans;
    }
    
private:
    int ans = 1;
    
    vector<vector<int>> a2b;
    
    unordered_map<int, int> a2c;
    
    int dfs(int a){
        if(a2c.find(a) != a2c.end()) return a2c[a];
        // if(a2b[a].size() == 0) return a2c[a] = 1;
        int maxval = 1;
        for(auto b: a2b[a]){
            maxval = max(maxval, dfs(b)+1);
        }
        a2c[a] = maxval;
        // cout<<a<<" "<<counter<<endl;
        return a2c[a];
    }
};

// [6,4,14,6,8,13,9,7,10,6,12]
// 2
// [3,3,3,3,3]
// 3
// [7,6,5,4,3,2,1]
// 1
// [7,1,7,1,7,1]
// 2
// [66]
// 1
// [22616,49011,62354,7214,52485,37234,79975,35037,65158,38325,88826,36668,30005,68790,9741,859,37135,47514,80491,93568,52443,69929,46500,98475,94834,83139,97222,41396,10284,93296,5186,51425,89855,99612,45368,70186,98511,61525,30111,10481,74602,67830,77949,74266,41489,13250,10868,72974,68063,10044,46235,39570,85277,69706,37554,23301,1626,63871,97000,22619,4729,58924,27482,84309,84502,43996,7746,87025,6628,24746,76284,8663,76802,608,6448,2193,54891,16870,42503,87835,66936,61952,27759,10965,195,78068,89373,41770,27314,4291,19135,74192,53708,62867,22462,49621,94874,34151,55948,70807,75138,5073,8134,71478,5625,21934,52440,8296,42173,86064,59081,48255,11421,4907,41552,94093,70006,45707,60343,37197,86329,75943,38520,76514,1839,74452,59164,73991,57186,44046,72571,25425,39686,72797,52826,18042,56313,63971,33965,37907,62790,51602,10666,62628,71144,36867,88418,79987,85883,29321,50506,95394,84212,33883,92499,62384,78747,84557,62388,67028,43381,12579,54789,71321,18328,26841,49582,99827,1853,77627,82218,29926,99512,65963,45396,45579,5605,53074,70472,48082,53373,19011,4946,39057,4066,73175,89994,7081,97823,86006,8827,74995,58804,3759,12957,65934,34352,22080,36870,39091,37301,30685,16894,7901,21310,94264,56425,52109,80715,25839,99633,41068,26102,27308,63263,62351,23277,62195,98576,12641,37413,72109,54893,886,81549,82056,99199,44866,87538,11034,80033,86792,32745,43228,64361,3554,61236,90989,52394,98494,15773,91350,92816,98553,22155,72067,68651,87923,77139,27492,47617,60326,35725,2277,77129,6995,72274,54267,69528,97306,59798,55038,5029,63868,99162,94496,92918,68567,88257,64972,20138,83061,17743,36164,34276,82682,19206,91854,65928,91766,68522,51512,65587,86535,96810,57357,68265,94217,26758,57372,71866,18183,28428,41921,36105,39495,50659,24560,81104,36414,12340,10078,5520,74432,22338,83917,43924,59437,80648,53396,10689,61400,587,40978,455,40940,6252,79242,74445,70451,8787,51712,84180,73911,3872,84616,88552,49077,7576,61305,66173,73665,37014,95149,95907,30601,75614,52692,41850,60710,69903,52615,44661,42823,68934,66529,58261,1662,29909,82635,11799,97104,9760,73321,55632,71054,18672,89573,51493,88699,77325,30938,56604,43231,59167,72452,69767,67734,84993,74380,42792,30222,78787,29688,22502,86740,6856,98894,15527,25346,36269,71329,80688,82751,7489,62540,29693,53557,79083,4368,14507,75646,36860,46698,8064,25493,50004,10743,65824,41496,42920,51913,49750,84062,72054,69502,40195,8322,16690,77374,27269,22311,64161,79105,45232,19274,43663,87105,55553,72705,59970,96823,58510,94433,84085,1273,9244,37178,54626,59758,70386,41913,91128,65678,28626,45894,98336,95573,5936,11556,53360,44183,1169,48815,57395,40197,70157,89314,95286,79807,10649,58367,3261,4978,16140,87619,34744,27278,78892,91179,48759,70385,44399,82921,30932,85414,29775,61941,44317,76617,53551,45171,20773,61870,80038,76580,96123,47367,99229,95234,60466,55923,28603,43439,12802,87348,4822,8323,66304,34615,68736,48274,89805,48005,2928,25352,80903,47626,71561,83308,55131,17988,68614,98523,19382,93675,2177,14618,3380,97163,7222,38462,7419,80955,27830,11024,82319,60095,15087,50404,72166,86637,60539,25419,63135,34274,22203,9270,26038,15104,81771,43712,23587,99987,15092,75549,83422,80067,29056,41720,5761,59487,3122,4355,68257,51095,59685,52827,3634,27975,44138,72121,57391,64945,98086,15270,11208,6757,8299,82243,85394,60340,84863,38148,82605,30815,94423,60569,20151,88548,91167,76356,59133,48521,21413,34748,51610,73261,86966,47149,31711,53516,74361,102,50174,55514,8687,96694,9427,45256,87164,35254,33732,31723,49817,83389,9008,5733,67683,31174,68799,18194,7126,18458,94617,36714,4808,74135,52868,65909,60903,11810,9790,20448,2413,51017,50699,40322,4271,34410,83049,44804,99243,57203,1163,57700,12201,58550,88402,73245,94451,29081,51046,55958,97964,15990,87521,64521,28628,73293,49950,52025,1891,60487,81615,74423,90476,52168,79474,8258,51546,86808,11945,79545,17677,80894,89094,19299,97287,54436,95913,74814,28132,19748,88199,72740,15486,5725,42371,60927,25106,59721,84960,80603,88614,51177,21670,21895,74142,48287,69703,44349,89886,27366,26703,20333,31457,85553,55337,32568,74363,48362,12922,97337,70696,58661,93563,74772,27682,16474,35904,49132,3364,60929,82339,56515,4765,38692,60984,97346,80588,69101,87525,37362,36943,8056,73910,52316,1926,34316,57839,50067,45044,47939,45616,47325,56400,59966,68626,13386,66228,27599,75688,34298,43956,2718,39025,32835,34554,19931,46443,57918,9849,82121,96482,44652,57187,16491,59027,82046,53129,31671,58703,48130,39496,87316,11585,9014,34378,46263,46553,85488,29177,7603,28273,8733,38696,70356,81679,23298,10751,87886,79713,99166,45219,37406,24645,61752,12657,96804,64928,31724,12248,94135,60282,5650,49025,11007,68405,6070,1586,49925,59549,52708,51587,30390,3347,2877,56947,92023,90409,12160,14246,80878,33831,18647,1711,14702,49768,18899,27933,42838,28496,41713,36891,78737,12817,68374,46317,69584,58999,80007,15377,14005,69250,27369,77235,10572,27514,34777,28768,45658,57070,33777,73329,75290,59361,70896,89990,22840,16144,2891,95780,1423,23719,44966,6001,5180,66239,22375,70487,54580,90148,55479,41597,24318,88567,57500,65957,83781,35281,4887,14185,69768,82195,91866,60096,24657,92943,45042,59471,30783,39838,29100,76444,32366,2224,99607,31710,86911,82388,89665,77404,88640,44597,22298,60147,22672,51208,55985,68725,248,94367,63264,62466,73365,33081,95689,19861,98537,7013,54861,82022,75174,75686,37803,82058,67323,30567,88628,96743,49891,64280,70806,3997,83083,85608,19079,71570,15261,30858,80264,36956,75974,30520,91696,90162,88353,30507,42516,10262,2194,62956,57455,72883,86574,92953,12161,49240,43407,92559,40455,11867,30220,83628,51185,25380,60663,60554,19868,77317,63112,82764,65156,34670,62824,63853,2726,41280,40403,6303,68006,55123,98589,16497,22873,42874,15855,6732,67940,94837,59347,52801,16975,94035]
// 306